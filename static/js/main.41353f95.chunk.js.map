{"version":3,"sources":["utils/data.js","utils/utils.js","reducers/reducer.js","containers/AppMenu.js","containers/ProductList.js","components/CommentList.js","containers/CommentEditor.js","containers/ProductItem.js","containers/AppContainer.js","containers/Login.js","reducers/configReducers.js","reducers/configureStore.js","Main.js","index.js"],"names":["USERS","id","name","username","password","avatar","PRODUCTS","description","seller","comments","author","content","datetime","moment","subtract","isPrivate","userIsAuthenticatedRedir","connectedReduxRedirect","authenticatedSelector","state","reducer","me","redirectPath","redirectAction","routerActions","INITIAL_STATE","products","userLogin","action","Object","assign","user","userLogout","addProductComment","map","product","productId","nanoid","comment","boards","type","AppMenu","handleMenuClick","item","key","props","logout","then","e","history","replace","LOGIN_PAGE_ROUTE","onClick","this","MENU","path","MAIN_PAGE_ROUTE","icon","PRODUCT_PAGE_ROUTE","Sider","trigger","collapsible","collapsed","siderIsCollapsed","theme","mode","Item","src","menu","Component","compose","withRouter","connect","dispatch","getState","Promise","resolve","ProductList","handleSelectProduct","push","PRODUCT_ITEM_PAGE_ROUTE","itemLayout","className","dataSource","renderItem","Meta","title","CommentList","format","CommentEditor","handleCommentInput","event","setState","target","value","handlePrivateCheckbox","checked","handleAddComment","addComment","TextArea","rows","placeholder","onChange","onPressEnter","htmlType","disabled","length","ProductItem","console","log","filter","sellerId","meId","commentsFilter","label","get","find","AppContainer","toggle","goTo","route","Header","style","background","padding","Content","exact","component","handleValueChange","handleSubmit","preventDefault","login","onSubmit","prefix","color","reject","userExist","undefined","loginUser","catch","error","createHistory","reducers","combineReducers","router","connectRouter","configureStore","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","middlewares","thunk","routerMiddleware","createStore","applyMiddleware","render","store","Login","document","getElementById"],"mappings":"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","file":"static/js/main.41353f95.chunk.js","sourcesContent":["import nanoid from \"nanoid\";\r\nimport moment from \"moment\";\r\n\r\nexport const USERS = [\r\n    {\r\n        id: 1,\r\n        name: \"Han\",\r\n        username: \"han\",\r\n        password: \"han\",\r\n        avatar: 'https://images2.minutemediacdn.com/image/upload/c_crop,h_1193,w_2121,x_0,y_64/f_auto,q_auto,w_1100/v1565279671/shape/mentalfloss/578211-gettyimages-542930526.jpg',\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Alex\",\r\n        username: \"alex\",\r\n        password: \"alex\",\r\n        avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Koitess\",\r\n        username: \"koitess\",\r\n        password: \"koitess\",\r\n        avatar: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Cute_dog.jpg/1200px-Cute_dog.jpg',\r\n    }\r\n];\r\n\r\nexport const PRODUCTS = [\r\n    {\r\n        id: 1,\r\n        name: \"Produit 1\",\r\n        description: \"Produit 1\",\r\n        seller: {\r\n            id: 1,\r\n            name: \"Han\",\r\n            avatar: 'https://images2.minutemediacdn.com/image/upload/c_crop,h_1193,w_2121,x_0,y_64/f_auto,q_auto,w_1100/v1565279671/shape/mentalfloss/578211-gettyimages-542930526.jpg',\r\n        },\r\n        comments: [\r\n            {\r\n                author: {\r\n                    id: 2,\r\n                    name: \"Alex\",\r\n                    avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n                },\r\n                content: \"Ceci est un commentaire privé\",\r\n                datetime: moment().subtract(1, \"day\"),\r\n                isPrivate: true\r\n            },\r\n            {\r\n                author: {\r\n                    id: 2,\r\n                    name: \"Alex\",\r\n                    avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n                },\r\n                content: \"Ceci est un commentaire public\",\r\n                datetime: moment().subtract(3, \"day\"),\r\n                isPrivate: false\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Produit 2\",\r\n        description: \"Produit 2\",\r\n        seller: {\r\n            id: 2,\r\n            name: \"Alex\",\r\n            avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n        },\r\n        comments: [\r\n            {\r\n                author: {\r\n                    id: 2,\r\n                    name: \"Alex\",\r\n                    avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n                },\r\n                content: \"Ceci est un commentaire privé\",\r\n                datetime: moment().subtract(1, \"day\"),\r\n                isPrivate: true\r\n            },\r\n            {\r\n                author: {\r\n                    id: 2,\r\n                    name: \"Alex\",\r\n                    avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n                },\r\n                content: \"Ceci est un commentaire public\",\r\n                datetime: moment().subtract(2, \"day\"),\r\n                isPrivate: false\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Produit 3\",\r\n        description: \"Produit 3\",\r\n        seller: {\r\n            id: 2,\r\n            name: \"Alex\",\r\n            avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n        },\r\n        comments: [\r\n            {\r\n                author: {\r\n                    id: 2,\r\n                    name: \"Alex\",\r\n                    avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n                },\r\n                content: \"Ceci est un commentaire privé\",\r\n                datetime: moment(),\r\n                isPrivate: true\r\n            },\r\n            {\r\n                author: {\r\n                    id: 2,\r\n                    name: \"Alex\",\r\n                    avatar: 'http://www.pethealthnetwork.com/sites/default/files/content/images/5-silent-killers-cats-475212379.jpg',\r\n                },\r\n                content: \"Ceci est un commentaire public\",\r\n                datetime: moment(),\r\n                isPrivate: false\r\n            },\r\n        ]\r\n    }\r\n];","import { connectedReduxRedirect } from 'redux-auth-wrapper/history4/redirect';\r\nimport * as routerActions from \"react-router-redux\";\r\nimport {USERS} from \"./data\";\r\n\r\nexport const commentsFilter = (comment, sellerId, meId) => {\r\n    return meId === sellerId ||\r\n        !comment.isPrivate ||\r\n        comment.author.id === meId;\r\n};\r\n\r\nexport const loginUser = (username, password) => new Promise((resolve, reject) => {\r\n    const userExist = USERS.find(user => user.username === username && user.password === password);\r\n\r\n    if (userExist !== undefined) {\r\n        const {password, ...newUser} = userExist;\r\n        resolve(newUser);\r\n    } else reject();\r\n});\r\n\r\nexport const userIsAuthenticatedRedir = connectedReduxRedirect({\r\n    authenticatedSelector: state => {\r\n        return state.reducer.me && state.reducer.me.id\r\n    },\r\n    redirectPath: '/login',\r\n    redirectAction: routerActions.replace,\r\n});","import nanoid from 'nanoid';\r\nimport moment from 'moment';\r\nimport {PRODUCTS} from \"../utils/data\";\r\nimport {loginUser} from \"../utils/utils\";\r\n\r\nconst ADD_COMMENT = 'ADD_COMMENT';\r\nconst USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nconst USER_LOGIN_ERROR = 'USER_LOGIN_ERROR';\r\nconst USER_LOGOUT_SUCCESS = 'USER_LOGOUT_SUCCESS';\r\nconst USER_LOGOUT_ERROR = 'USER_LOGOUT_ERROR';\r\n\r\nconst INITIAL_STATE = {\r\n    me: {},\r\n    products: PRODUCTS\r\n};\r\n\r\nexport const login = (username, password) => {\r\n    return (dispatch, getState) => {\r\n        return loginUser(username, password)\r\n            .then((user) => {\r\n                dispatch({type: USER_LOGIN_SUCCESS, user: user});\r\n                return user\r\n            })\r\n            .catch(e => dispatch({type: USER_LOGIN_ERROR, error: e}));\r\n    };\r\n};\r\nexport const logout = (username, password) => {\r\n    return (dispatch, getState) => {\r\n        return Promise.resolve(true).then(e => dispatch({type: USER_LOGOUT_SUCCESS}));\r\n    };\r\n};\r\n\r\nexport const addComment = (productId, comment, isPrivate) => ({\r\n    type: ADD_COMMENT,\r\n    productId,\r\n    comment,\r\n    isPrivate\r\n});\r\n\r\nconst boards = (state = INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n        case ADD_COMMENT:\r\n            return addProductComment(state, action);\r\n\r\n        case USER_LOGIN_SUCCESS:\r\n            return userLogin(state, action);\r\n\r\n        case USER_LOGOUT_SUCCESS:\r\n            return userLogout(state, action);\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nfunction userLogin(state, action) {\r\n    return Object.assign({}, state, {\r\n        me: action.user\r\n    });\r\n}\r\n\r\nfunction userLogout(state, action) {\r\n    return Object.assign({}, state, {\r\n        me: {}\r\n    });\r\n}\r\n\r\nfunction addProductComment(state, action) {\r\n    const products = state.products.map(product => {\r\n        const comments = product.comments || [];\r\n\r\n        if (product.id === action.productId)\r\n            return {\r\n                ...product,\r\n                comments: [\r\n                    ...comments, {\r\n                        id: nanoid(),\r\n                        content: action.comment,\r\n                        author: state.me,\r\n                        datetime: moment(),\r\n                        isPrivate: action.isPrivate\r\n                    }]\r\n            };\r\n\r\n        return product;\r\n    });\r\n\r\n    return Object.assign({}, state, {products: products});\r\n}\r\n\r\nexport default boards;","import React, {Component} from 'react';\r\nimport {Menu, Icon, Layout, Avatar} from 'antd';\r\n\r\nimport {compose} from 'redux';\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nimport {logout} from \"../reducers/reducer\"\r\n\r\nimport {LOGIN_PAGE_ROUTE, MAIN_PAGE_ROUTE, PRODUCT_PAGE_ROUTE} from \"../Main\";\r\n\r\nexport class AppMenu extends Component {\r\n    handleMenuClick = (item) => {\r\n        if (item.key === \"user\") return;\r\n        if (item.key === \"logout\") {\r\n            return this.props.logout()\r\n                .then(e=> this.props.history.replace(LOGIN_PAGE_ROUTE));\r\n        }\r\n\r\n        this.props.onClick(item.key)\r\n    };\r\n\r\n    render() {\r\n        const {me} = this.props;\r\n\r\n        const MENU = [\r\n            {path: MAIN_PAGE_ROUTE, name: \"Acceuil\", icon: \"home\"},\r\n            {path: PRODUCT_PAGE_ROUTE, name: \"Produits\", icon: \"bars\"}\r\n        ];\r\n\r\n\r\n        return (\r\n            <Layout.Sider trigger={null} collapsible collapsed={this.props.siderIsCollapsed}>\r\n                <Menu theme=\"dark\" mode=\"inline\"  onClick={this.handleMenuClick}>\r\n                    <Menu.Item key=\"user\">\r\n                        <Avatar src={me.avatar}/>\r\n                        <span>{me.name}</span>\r\n                    </Menu.Item>\r\n                    {\r\n                        MENU.map(menu => {\r\n                            return <Menu.Item key={menu.path}>\r\n                                <Icon type={menu.icon}/>\r\n                                <span>{menu.name}</span>\r\n                            </Menu.Item>\r\n                        })\r\n                    }\r\n                    <Menu.Item key=\"logout\">\r\n                        <Icon type=\"logout\"/>\r\n                        <span>Déconnecter</span>\r\n                    </Menu.Item>\r\n                </Menu>\r\n            </Layout.Sider>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    me: state.reducer.me\r\n});\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {logout})\r\n)(AppMenu);\r\n","import React, {Component} from 'react';\r\nimport {withRouter, Route} from 'react-router';\r\nimport { List, Avatar } from 'antd';\r\nimport {connect} from 'react-redux';\r\nimport { compose} from 'redux';\r\nimport {PRODUCT_ITEM_PAGE_ROUTE} from \"../Main\";\r\n\r\nexport class ProductList extends Component {\r\n    handleSelectProduct = (productId) => () => {\r\n      this.props.history.push(PRODUCT_ITEM_PAGE_ROUTE.replace(\":productId\", productId));\r\n    };\r\n\r\n    render() {\r\n        const products = this.props.products;\r\n\r\n        return (\r\n            <List\r\n                itemLayout=\"horizontal\"\r\n                className=\"product-list\"\r\n                dataSource={products}\r\n                renderItem={product => (\r\n                    <List.Item onClick={this.handleSelectProduct(product.id)}>\r\n                        <List.Item.Meta\r\n                            avatar={<div className=\"app-logo\"/>}\r\n                            title={product.name}\r\n                            description={product.description}\r\n                        />\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    products: state.reducer.products\r\n});\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, null)\r\n)(ProductList);\r\n","import React, {Component} from 'react';\r\nimport { Comment, List  } from 'antd';\r\nimport moment from \"moment\";\r\n\r\nexport default class CommentList extends Component {\r\n\r\n    render() {\r\n        const {comments} = this.props;\r\n\r\n        return (\r\n            <List\r\n                dataSource={comments}\r\n                itemLayout=\"horizontal\"\r\n                renderItem={comment => <Comment\r\n                    {...comment}\r\n                    author={comment.author.name}\r\n                    avatar={comment.author.avatar}\r\n                    datetime={moment(comment.author.datetime).format(\"DD/MM/YYYY hh:mm\")}\r\n                />}\r\n            />\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Button, Checkbox, Form, Input} from 'antd';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {addComment} from \"../reducers/reducer\";\r\n\r\nclass CommentEditor extends Component {\r\n    state = {\r\n        comment: \"\",\r\n        isPrivate: false\r\n    };\r\n\r\n    handleCommentInput = (event) => {\r\n        this.setState({comment: event.target.value});\r\n    };\r\n\r\n    handlePrivateCheckbox = (event) => {\r\n        this.setState({isPrivate: event.target.checked})\r\n    };\r\n\r\n    handleAddComment = () => {\r\n        this.props.addComment(this.props.productId, this.state.comment, this.state.isPrivate);\r\n        this.setState({comment: \"\"});\r\n    };\r\n\r\n    render() {\r\n        const {comment, isPrivate} = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <Form.Item>\r\n                    <Input.TextArea rows={4}\r\n                                    value={comment}\r\n                                    placeholder=\"Ajouter un commentaire\"\r\n                                    onChange={this.handleCommentInput}\r\n                                    onPressEnter={this.handleAddComment}/>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Checkbox value={isPrivate}\r\n                              onChange={this.handlePrivateCheckbox}>\r\n                        Privé\r\n                    </Checkbox>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button htmlType=\"submit\" disabled={!comment.length}\r\n                            onClick={this.handleAddComment} type=\"primary\">\r\n                        Envoyer\r\n                    </Button>\r\n                </Form.Item>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, {addComment})(CommentEditor);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport get from \"lodash/get\"\r\n\r\nimport {Card, Descriptions, Comment, Avatar} from 'antd';\r\nimport CommentList from \"../components/CommentList\";\r\nimport CommentEditor from \"./CommentEditor\";\r\n\r\nimport {commentsFilter} from \"../utils/utils\";\r\n\r\nexport class ProductItem extends Component {\r\n\r\n    render() {\r\n        const {product} = this.props;\r\n        console.log(this.props);\r\n        if (!product) return \"Produit non trouvé\";\r\n\r\n        const comments = (product.comments || []).filter(comment => {\r\n            return commentsFilter(comment, product.seller.id, this.props.meId);\r\n        });\r\n\r\n        return (\r\n            <Card className=\"product-item\">\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <div className=\"app-logo product-img\"/>\r\n                </div>\r\n                <Descriptions title={product.name}>\r\n                    <Descriptions.Item label=\"Description\">{product.description}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Vendeur\">\r\n                        <div>\r\n                            <Avatar src={product.seller.avatar}/> {product.seller.name}\r\n                        </div>\r\n                    </Descriptions.Item>\r\n                </Descriptions>\r\n                {comments.length && <CommentList comments={comments}/>}\r\n                <Comment content={<CommentEditor productId={product.id}/>}/>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    const productId = get(props, \"match.params.productId\");\r\n    const product = state.reducer.products.find(product => product.id == productId);\r\n\r\n    return {\r\n        product,\r\n        meId: state.reducer.me.id\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(ProductItem);\r\n","import React, {Component} from 'react';\r\nimport {withRouter, Route, Switch} from 'react-router';\r\nimport {Layout, Icon} from 'antd';\r\nimport {compose} from 'redux';\r\n\r\nimport AppMenu from \"./AppMenu\";\r\nimport ProductList from \"./ProductList\";\r\nimport ProductItem from \"./ProductItem\";\r\n\r\nimport {userIsAuthenticatedRedir} from \"../utils/utils\";\r\n\r\nimport {MAIN_PAGE_ROUTE, PRODUCT_ITEM_PAGE_ROUTE, PRODUCT_PAGE_ROUTE} from \"../Main\";\r\n\r\nexport class AppContainer extends Component {\r\n    state = {\r\n        siderIsCollapsed: false,\r\n    };\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            siderIsCollapsed: !this.state.siderIsCollapsed,\r\n        });\r\n    };\r\n\r\n    goTo = (route) => {\r\n        this.props.history.push(route);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Layout className=\"app-container container\">\r\n                <AppMenu siderIsCollapsed={this.state.siderIsCollapsed}\r\n                         onClick={this.goTo}/>\r\n\r\n                <Layout>\r\n                    <Layout.Header style={{background: '#fff', padding: 0}}>\r\n                        <Icon\r\n                            className=\"trigger\"\r\n                            type={this.state.siderIsCollapsed ? 'right' : 'left'}\r\n                            onClick={this.toggle}\r\n                        />\r\n                    </Layout.Header>\r\n                    <Layout.Content>\r\n                        <Switch>\r\n                            <Route exact key={MAIN_PAGE_ROUTE} path={MAIN_PAGE_ROUTE} component={ProductList}/>\r\n                            <Route exact key={PRODUCT_PAGE_ROUTE} path={PRODUCT_PAGE_ROUTE} component={ProductList}/>\r\n                            <Route exact key={PRODUCT_ITEM_PAGE_ROUTE} path={PRODUCT_ITEM_PAGE_ROUTE}\r\n                                   component={ProductItem}/>\r\n\r\n                        </Switch>\r\n                    </Layout.Content>\r\n                </Layout>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    userIsAuthenticatedRedir\r\n)(AppContainer);\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router';\r\nimport {Layout, Form, Icon, Input, Button} from 'antd';\r\nimport {connect} from 'react-redux';\r\nimport {compose} from 'redux';\r\n\r\nimport {login} from \"../reducers/reducer\";\r\nimport {MAIN_PAGE_ROUTE} from \"../Main\";\r\n\r\nexport class ProductList extends Component {\r\n    state = {\r\n        username: null,\r\n        password: null\r\n    };\r\n\r\n    handleValueChange = e => {\r\n        this.setState({[e.target.name]: e.target.value});\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        const {username, password} = this.state;\r\n\r\n        this.props.login(username, password)\r\n            .then(e => {\r\n                this.props.history.push(MAIN_PAGE_ROUTE);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Layout className=\"container align-items-center justify-content-center\">\r\n                <Form onSubmit={this.handleSubmit} onChange={this.handleValueChange} className=\"login-form\">\r\n                    <Form.Item>\r\n                        <Input\r\n                            name=\"username\"\r\n                            prefix={<Icon type=\"user\" style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                            placeholder=\"Votre identifiant\"\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Input\r\n                            name=\"password\"\r\n                            prefix={<Icon type=\"lock\" style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                            type=\"password\"\r\n                            placeholder=\"Votre mot de passe\"\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            Connexion\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    me: state.reducer.me\r\n});\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {login})\r\n)(ProductList);\r\n","import {combineReducers} from 'redux';\r\nimport reducer from './reducer';\r\nimport {connectRouter} from \"connected-react-router\";\r\nimport createHistory from \"history/createHashHistory\";\r\n\r\nexport const history = createHistory();\r\n\r\nexport const reducers = combineReducers({\r\n    router: connectRouter(history),\r\n    reducer,\r\n});\r\n","import {createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {routerMiddleware} from 'connected-react-router';\r\nimport {history} from \"./configReducers\";\r\n\r\nconst configureStore = reducers => {\r\n    const composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n    const middlewares = [\r\n        thunk,\r\n        routerMiddleware(history)\r\n    ];\r\n\r\n    return createStore(\r\n        reducers,\r\n        composeEnhancer(applyMiddleware(...middlewares)),\r\n    );\r\n};\r\n\r\nexport default configureStore;","import React from 'react';\r\nimport {render} from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport { Route, Switch} from 'react-router';\r\nimport { ConnectedRouter } from 'connected-react-router'\r\n\r\nimport AppContainer from './containers/AppContainer.js';\r\nimport Login from \"./containers/Login\";\r\n\r\nimport configureStore from './reducers/configureStore';\r\nimport {reducers, history} from './reducers/configReducers';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport \"./styles/App.css\"\r\n\r\nexport const MAIN_PAGE_ROUTE = \"/\";\r\nexport const LOGIN_PAGE_ROUTE = \"/login\";\r\nexport const PRODUCT_PAGE_ROUTE = \"/products\";\r\nexport const PRODUCT_ITEM_PAGE_ROUTE = \"/products/:productId\";\r\n\r\n\r\nexport const Main = () => (\r\n    <Provider store={configureStore(reducers)}>\r\n        <ConnectedRouter history={history}>\r\n            <div className={\"container\"}>\r\n                <Switch>\r\n                    <Route exact key={LOGIN_PAGE_ROUTE} path={LOGIN_PAGE_ROUTE} component={Login}/>\r\n                    <Route key={MAIN_PAGE_ROUTE} path={MAIN_PAGE_ROUTE} component={AppContainer}/>\r\n                </Switch>\r\n            </div>\r\n        </ConnectedRouter>\r\n    </Provider>\r\n);","import React from 'react';\r\nimport {render} from 'react-dom';\r\n\r\nimport {Main} from \"./Main\";\r\n\r\nrender((\r\n    <Main/>\r\n), document.getElementById('root'));"],"sourceRoot":""}